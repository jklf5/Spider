
<!DOCTYPE html>
<html>
  <head>
      <script type="text/javascript" src="http://static.blog.csdn.net/public/switchHome/switchHome.js?v=2017.046"></script>
      <link rel="canonical" href="http://blog.csdn.net/pk.html?id=10333" />
    <script type="text/javascript" src="http://static.blog.csdn.net/scripts/tingyun-rum.js"></script>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
      <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848"> 
    <meta name="keywords" content="" />
    <meta name="description" content="" />  
 

    <script src="http://csdnimg.cn/public/common/libs/jquery/jquery-1.11.1.min.js" type="text/javascript"></script>

    <link rel="shortcut icon" href="http://c.csdnimg.cn/public/favicon.ico" />
    <link rel="stylesheet" href="http://static.csdn.net/public/common/toolbar/css/index.css">
    <link rel="stylesheet" href="http://csdnimg.cn/public/common/libs/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="http://csdnimg.cn/public/static/css/avatar.css">
    <link rel="stylesheet" href="http://static.blog.csdn.net/static/css/common_index.css">
    <!-- [if IE 7]-->
    <link rel="stylesheet" href="http://static.blog.csdn.net/static/css/font-awesome.min.css">
    <!-- [endif]-->
   
    <!-- [if lt IE 9]-->
    <script src="http://static.blog.csdn.net/static/js/libs/html5shiv.min.js"></script>
    <!-- [endif]-->
    <title>观点 - CSDN博客</title>

    <!-- ad begin -->
         <script language="javascript" type="text/javascript" src="http://csdnimg.cn/asdf/tracking-1.0.1.js"></script>
    <!-- ad end-->
       
  </head>
  <body>
         <!-- 广告位开始 -->
        <ins data-revive-zoneid="149" data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57"></ins>
        <!-- 广告位结束 -->
      <script id="toolbar-tpl-scriptId" src="http://csdnimg.cn/public/common/toolbar/js/content_toolbar.js" type="text/javascript" domain="http://blog.csdn.net"></script>

      <link rel="stylesheet" href="http://csdnimg.cn/public/common/toolbar/content_toolbar_css/content_toolbar.css">
      

      

<div role="banner" class="blog-nav">
	    <div class="container">
		    <div role="navigation" class="navbar-collapse">
			    <ul class="navbar-nav">
				    <li ><a href="/" title="CSDN博客频道首页">首页</a></li>
				    <li > <a href="/column.html">博客专栏</a></li>
                 
				    <li ><a href="/experts.html" >博客专家</a></li>
				   
                     <li ><a href="/wemedia.html" >行家</a></li>
                      <li class=active><a href="/PK.html" >观点</a></li>
				    <li ><a href="/ranking.html">排行榜</a></li>
			      
                  
                    <li><a href="http://mp.blog.csdn.net" class="rss"  target="_blank">我的博客</a></li>
			    </ul>
                <a href="/home/help.html" class="float-r"><i class="fa fa-question-circle"></i>帮助</a>
                <a href="/rss.html?type=PK&channel=" class="rss float-r"><i class="fa fa-rss"></i>订阅</a>
                <a href="/import/Apply.html" class="move float-r"><img src="http://static.blog.csdn.net/static/images/blog_move.png" alt="img" class="fa">博客搬家</a>
		    </div>
	    </div>
</div>

<!--
<div style="margin:0 0 10px 0;">
<iframe id="frm_ad_top2" frameborder="0" scrolling="no" style="width:100%;height:0px;"></iframe>
</div>
<script type="text/javascript">
    $(function () {
        $('#frm_ad_top2').attr('src', "http://static.blog.csdn.net/ads/home_top2.html").load(function () {
            this.style.height = '92px';
        });
    });
</script>
-->      

      
<link rel="stylesheet" href="/bstac/css/blog_viewpoint.css?v1">



<script type="text/javascript" src="http://static.blog.csdn.net/static/js/apps/blog_view.js"></script>

<div class="view_banner">
    <div class="view_wrap">
        
    </div>
</div>
<div class="viewpoint_main clearfix">
    <div class="viewpoint_wrap">
        <div class="viewpoint_t clearfix">
            <img src="http://img.blog.csdn.net/20171010180959682" alt="img" class="view_img">
            <div class="viewpoint_t_mask">
                <div class="pre_last_btn clearfix"><a href="/pk/list.html" class="all_view">全部观点</a></div>
            </div>
            <div class="viewpoint_c">
                <div class="first_date"><span>第二十三期  </span></div>
                <div class="view_t_title" id="view_t_title">程序员应该如何积累财富？</div>
                <div class="view_t_c">2017余额不足 还有128天过年 六位数密码保护的银行卡余额还剩多少？</br>  有人说，工资是稳赚不赔的， 耐心积累也能丰衣足食！</br>  也有人说，理财投资来的快，眼光独到，可以少奋斗好多年！</br>  那么机智你对此怎么看呢？</div>
            </div>
            <div class="viewpoint_c_b">
                <div class="war_t">
                    <div class="RTMP">存工资稳定</div>
                    <img src="http://static.blog.csdn.net/static/images/war_img.jpg" alt="img" class="war_img">
                    <div class="HTTP">理财收益高</div>
                </div>

                <div class="percentage">
                    <div class="percentage_l">16%</div>
                    <div class="percentage_c">
                        <span class="percentage_c_l"></span><span class="percentage_c_r"></span>
                        <div class="triangle"></div>
                    </div>
                    <div class="percentage_r">84%</div>
                </div>

                <div class="war_c_t">
                    <p class="war_c_t_intro">如果你有新观点，请投稿</p>
                    <a href="javascript:;" class="war_contribute">投稿</a>
                </div>

                <div id="popup_war" class="popup_war popup_con" style="display: none;">
                    <div class="popup_war_t"><span>投稿</span><i class="fa fa-close js_war_close"></i></div>
                    <div class="popup_war_c">
                        <div class="popup_war_b">
                            <span>观点：</span>
                            <input type="radio" value="65" name="pkselect"  style="cursor:pointer" />存工资稳定  &nbsp;&nbsp;&nbsp;&nbsp;
                            <input type="radio" value="66" name="pkselect"  style="cursor:pointer" />理财收益高
                        </div>
                        <div class="popup_war_b">
                            <span>URL：</span>

                            <input type="text" placeholder="请输入博文链接" class="war_url">
                        </div>
                        <div class="pop_tips"><i class="fa fa-exclamation-triangle"></i><span>地址不能为空</span></div>
                        <div class="popup_war_b_b">
                            <input type="button" value="投稿" class="contribute_btn">
                            <input type="button" value="取消" class="contribute_cancel">
                        </div>
                    </div>
                </div>

                <div class="popup_war popup_war_tip">
                    <div class="popup_war_t"><span>提示</span><i class="fa fa-close js_war_close"></i></div>
                    <div class="popup_war_sec">
                        <div class="popup_war_sec_t">
                            <i class="fa fa-check-circle"></i>
                            <p>投稿成功</p>
                        </div>
                    </div>
                </div>


                <div class="war_c">
                    <p class="war_c_p">被观点收录的文章，将会从其中选择部分优秀文章赠送一期电子版程序员杂志</p>
                    <p class="war_c_p">投票数多的为胜出方，将从胜出方的评论中选出最有价值的观点赠送一期电子版程序员杂志</p>
                </div>
                <div class="sharePopup">
                    <!--JiaThis Button BEGIN-->
                    <div class="jiathis_style_50x50"><a class="jiathis_button_tsina"><i class="fa fa-weibo"></i></a><a class="jiathis_button_weixin"><i class="fa fa-weixin"></i></a></div>
                    <div class="share_title"></div>
                    <script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
                    <script>
                        var jiathis_config = {
                            pic: "http://img.blog.csdn.net/20160902165442956",
                            title: "【观点】"+document.getElementById("view_t_title").innerHTML + "点此亮出你的观点。"

                        }

                    </script>
                    <!--JiaThis Button END-->

                </div>

            </div>
        </div>
        <!--文章观点-->
        <!--网友投票-->



        <div class="viewpoint clearfix">
            <div class="article_viewpoint_t">网友投票</div>
            <div class="vote clearfix">
                <div class="vote_t">存工资稳定</div>
                <div class="vote_num" id="pk1digg">145</div>
                    <!--初始状态-->
                    <a href="javascript:;" class="vote_praise" id="pk1" value="65"  otherid="66"><i class="fa fa-thumbs-o-up"></i></a>
                                            </div>
            <div class="vote_c">VS</div>
            <div class="vote clearfix">
                <div class="vote_t vote_t_blue">理财收益高</div>
                <div class="vote_num vote_num_blue" id="pk2digg">781</div>
                    <!--初始状态-->
                    <a href="javascript:;" class="vote_praise_blue vote_praise_blue" id="pk2" value="66"  otherid="65"><i class="fa fa-thumbs-o-up"></i></a>
                                            </div>
        </div>
        <!--评论-->

        <div class="viewpoint clearfix">
            <div class="article_viewpoint_t">评论</div>
            <div class="view_comment clearfix fl">
                <div class="view_comment_t">存工资稳定</div>
                <div class="view_comm">
                    <div class="view_comm_p">我来说两句：</div>
                    <form>
                        <textarea placeholder="在这里写下你的评论 " class="view_inpt"></textarea>
                        <input type="button" value="发表评论" class="publish_comm" id="pk1submit" pkid="65">
                    </form>
                </div>
                <div class="view_c clearfix comment_list" value="65" pageindex="1"></div>
            </div>
            <div class="view_comment clearfix fr">
                <div class="view_comment_t view_comment_t_blue">理财收益高</div>
                <div class="view_comm">
                    <div class="view_comm_p">我来说两句：</div>
                    <form>
                        <textarea placeholder="在这里写下你的评论" class="view_inpt view_inpt_blue"></textarea>
                        <input type="button" value="发表评论" class="publish_comm publish_comm_blue" id="pk2submit" pkid="66">
                    </form>
                </div>
                <div class="view_c clearfix comment_list" value="66" pageindex="1" color="commer_name_blue"></div>
            </div>
        </div>
    </div>
</div>



    <!--上一期下一期-->

<div id="mask"></div>
<div id="popup" class="popup">
    <div class="popup_t"><span id="tiptitle">提示</span><i class="fa fa-close js_close"></i></div>
    <div class="popup_c" id="tipcontent">对不起，您已投过选票，不能重复投票。</div>
</div>





<script type="text/javascript">
    init_percentage();
    init_digg();
    init_comment();

    init_weixinImg();

    function init_percentage()
    {
        var left = $(".percentage_l").html();
        var right = $(".percentage_r").html();

        $(".percentage_c_l").css("width", left);
        $(".percentage_c_r").css("width", right);
        var l = parseFloat(left.split('%')[0]) - 0.6
        $(".triangle").css("left", l + "%");
    }

    function init_digg()
    {
        $("#pk1,#pk2").click(function () {
            if (isLogin("请先登录后再投票。"))
            {  
                var id = $(this).attr("value");
                var diggObj;

                if ($(this).attr("id")=="pk1") {
                    diggObj = $("#pk1digg");
                }
                else {
                    diggObj = $("#pk2digg");
                }

                var digg = parseInt(diggObj.html());
                if (id) {
                    var id = $(this).attr("value");
                    var otherid = $(this).attr("otherid");

                    $.post("/pk/digg.html" , { id: id ,otherid:otherid,commentid:0},
                       function (data) {
                           if (data.result == 0) {
                               //alert(data.content);
                               Alert("提示",data.content);
                           }
                           else {                              
                               diggObj.html(digg + 1);
                               Percent();
                           }
                       });
                }
            }
        });
    }

    function Percent()
    {       
        var pk1digg = $(".vote_praise").parent().find(".vote_num").html();
        var pk2digg = $(".vote_praise_blue.vote_praise_blue").parent().find(".vote_num").html();
              
        var total=parseInt(pk1digg) + parseInt(pk2digg);
        var  pk1diggPercentage =parseFloat(GetPercent(pk1digg, total.toString())) * 100;
        var percent2 = 100 - parseInt(pk1diggPercentage.toString().replace("%",""));
        pk2diggPercentage = percent2 + "%";

        /*
        var num = 50 - pk1diggPercentage;
        if (num < 0) {
            auto(num, 1);
        }
        else {
            auto(num, -1);
        }
         */
      
        $(".percentage_l").html(pk1diggPercentage+"%");
        $(".percentage_r").html(pk2diggPercentage);

        init_percentage();
       
    }

    function auto(num,i)
    {
        $(".percentage_l").html((50 - i) + "%");
        $(".percentage_r").html((50 + i + "%"));

        init_percentage();
        if (i <= num) {
            setTimeout(function () {
                auto(num, i++);
            }, 500);
        }
    }

    function GetPercent(num, total) { 
        num = parseFloat(num); 
        total = parseFloat(total); 
        if (isNaN(num) || isNaN(total)) { 
            return "-"; 
        } 
        return total <= 0 ? "0%" : (Math.round(num / total * 100) / 100 + "%"); 
    } 

    function isLogin(title)
    {
        var login_username = getUN();
        if (login_username == '') {
            //alert(title); 
            Alert("提示",title);
            // location.href = "https://passport.csdn.net/account/login?from=" + location.href;
            return false;
        }
        return true;
    }

    function getUN() {
        var m = document.cookie.match(new RegExp("(^| )UserName=([^;]*)(;|$)"));
        if (m)
            return m[2];
        else
            return '';
    }

    function init_comment() {             
        //加载列表
        $(".comment_list").each(function () {
            var list = $(this);            
            loadList(list.attr("pageindex"), list, list.attr("value"), false,"");
        });        
    }

    function init_weixinImg()
    {
        $("link[href='http://v3.jiathis.com/code/css/jiathis_share.css']").before('<div style="display:none;"><img src="http://static.blog.csdn.net/static/images/pk.jpg" /></div>');
    }
    
    function loadList(pageIndex,list,id,isAppend,link) {       
        pageIndex = parseInt(pageIndex);

        list.html("正在加载评论...");
        
        url = "/pk/commentlist.html?id=" + id;
        if (pageIndex > 0) {
            url += "&page=" + pageIndex;
        }
        
        if (link.length > 0)
        {
            url = link;
        }

        $.get(url, function (data) {
            if (isAppend) {
                list.append(data);
            }
            else {
                list.html(data);
            }
            var color=list.attr("color")
            if (color != "")
            {
                list.find("a").addClass(color);
            }

            $(".page_nav a").each(function () {
                if ($(this).attr("href") != "#pk1submit") {
                    $(this).attr("value", $(this).attr("href"));
                    $(this).attr("href", '#pk1submit');
                    $(this).click(function () {
                        var page = $(this).html();
                        if (isNaN(page))
                        {
                            page = 0;
                        }
                        loadList(page, $(this).parent().parent(), $(this).parent().parent().attr("value"), false,$(this).attr("value"));
                    });
                }
            });
            $("dt .fa-thumbs-o-up").unbind("click");
            $("dt .fa-thumbs-o-up").click(function () {
                var diggObj = $(this).parent().find("span");
                var digg = parseInt(diggObj.html());

                $.post("/pk/digg.html", { id: 0, otherid: 0, commentid: $(this).attr("value") },
                      function (data) {
                          if (data.result == 0) {
                              //alert(data.content);
                              Alert("提示",data.content);
                          }
                          else {
                              diggObj.html(digg + 1);                              
                          }
                      });
            });
        });
    };
    
    $("#pk1submit,#pk2submit").click(function () {
        var login_username = getUN();
        if (login_username == '') {
            setTimeout(function(){
                location.href = "https://passport.csdn.net/account/login?from=" + location.href;
            },2000);        
        }
        var submit = $(this);
        if (isLogin("您还没有登录哦~,2秒后自动跳转到登录！")) {
            subform(submit);
        }
    });

    var c_doing = false;
    function subform(submit) {
        if (c_doing) return false;        
        var textarea=submit.parent().find("textarea");
        var content = $.trim(textarea.val());
        if (content == "") {
            //alert("评论内容没有填写!");
            Alert("提示", "评论内容没有填写!");
            return false;
        } else if (content.length > 1000) {
            //alert("评论内容太长了，不能超过1000个字符！");
            Alert("提示", "评论内容太长了，不能超过1000个字符！");
            return false;
        }
        var commentId = $("#commentId").val();
       
        var beginTime = new Date();
        textarea.attr("disabled", true);
        submit.attr("disabled", true);
        c_doing = true;
        $.ajax({
            type: "POST",
            url:"/pk/submit.html",
            data: {
                "commentid": 0,
                "content": content,
                "replyId": 0,
                "boleattohome": 0,
                "pkid":submit.attr("pkid")
            },
            success: function (data) {
                c_doing = false;               
                if (data.result) {
                    textarea.val('');

                    loadList(1, submit.parent().parent().parent().find(".comment_list"), submit.attr("pkid"), false,"");
                    textarea.attr("disabled", false);
                    submit.attr("disabled", false);
                }
                else {
                    textarea.attr("disabled", false);
                    submit.attr("disabled", false);
                    //alert(data.content);
                    Alert("提示", data.content);
                }
            }
        });
        return false;
    }

    var oView = {
        //弹框
        popUp: function () {
            var _this = this,
              oPopBtn = $(".js_vote"),
              oPopUp = $(".popup"),
              oClose = $(".js_close");
            oPopBtn.on("click", function () {
                if (oPopUp.is(":hidden")) {
                    _this.show();
                    console.log($(".viewpoint").offset().top);
                    var offsetTop = $(".viewpoint").offset().top;
                    oPopUp.css("margin-top", offsetTop + 400);
                }
            });
            oClose.on("click", function () {
                _this.hide();
                if ($("#tipcontent").html() == "请先登录后再投票。" || $("#tipcontent").html() == "您还没有登录哦~")
                {
                    location.href = "https://passport.csdn.net/account/login?from=" + location.href;
                }
            });

        },
        hide: function () {
            var oMask = $("#mask"),
                    oPop = $(".popup");
            oMask.hide();
            oPop.hide();
        },
        show: function () {
            var oMask = $("#mask"),
                    oPop = $(".popup");
            oMask.show();
            oPop.show();
        }

    };
    oView.popUp();

    function Alert(title,content)
    {
        $("#tiptitle").html(title);
        $("#tipcontent").html(content);
        $("#popup").css({
            top: ($(window).height() - $("#popup").height()) / 2 + $(window
       ).scrollTop() + 'px',
            left: $(window).width() / 2
        });
        oView.show();
    }



    $(function(){
        var oView = {
            popUpFn: function () {
                var oSubmit = $(".contribute_btn"),
                    oCancle = $(".contribute_cancel"),
                    oClose=$(".js_war_close")
                ;
                
                oSubmit.on("click", function () {
                    var _this=this;
                    var pkid = $("input[name='pkselect']:checked").val(),
                        url=$(".war_url").val();

                    if (pkid == undefined) {
                        $(".pop_tips span").text("请选择观点").parent().show();
                        return;
                    }
                    else if (url== "") {
                        $(".pop_tips span").text("请录入博文链接").parent().show();
                        return;
                    }
                    else {
                        if(url.toString().indexOf("article/details/")==-1)
                        {
                            $(".pop_tips span").text("请录入正确的博文地址").parent().show();
                            return;
                        }
                        else
                        {
                            $(".pop_tips span").text("请选择观点").parent().hide();
                            $(".pop_tips span").text("请录入博文链接").parent().hide();
                        }
                    }

                    var array=url.split('/');

                    var articleid=array[array.length-1];
                    var id=10333;

                    var data={pkid:pkid,aid:articleid,id:id};

                    $.get('/pk/SubmitPkArticle.html?r='+ Math.random(),data,function(res){                                                  
                        if (res.result == 1) {
                            oView.hide($(".popup_con"));
                            oView.show($(".popup_war_tip"));
                        }
                        else
                        {
                            $(".pop_tips span").text(res.content).parent().show();
                        }
                    });
                });

                oCancle.on("click", function () {
                    oClose.click();
                });
            }, hide:function(popup){
                var oMask = $("#mask"),
                oPop = popup;
                oMask.hide();
                oPop.hide();
            },
            show:function(popup){
                var oMask = $("#mask"),
                        oPop = popup;
                               
                oMask.show();              
             
                oPop.show();

                oPop.css({
                    top: ($(window).height() - oPop.height()) / 2 + $(window
        ).scrollTop()-200 + 'px',
                    left: $(window).width() / 2- oPop.width()/2
                });

            }
        }

        oView.popUpFn();
    });

    $(".war_contribute").click(function(){
        $(".popup_con").css({
            top: ($(window).height() - $(".popup_con").height()) / 2 + $(window
).scrollTop()-200 + 'px',
            left: $(window).width() / 2- $(".popup_con").width()/2
        });
    });

</script>


      <script language="javascript" type="text/javascript" src="http://csdnimg.cn/asdf/async-1.0.1.js"></script>

       <script id="noticeScript" type="text/javascript" charset="utf-8" btnId="header_notice_num" wrapId="note1" count="5" subCount="5" src="http://c.csdnimg.cn/public/common/toolbar/js/notify.js"></script>  
    <!--script( type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer-1.0.2.js" )-->
    <!--script( type="text/javascript" src="http://static.csdn.net/public/common/toolbar/js/toolbar.js" )-->
    <script id="csdn-toolbar-id" btnId="header_notice_num" wrapId="note1" count="5" subCount="5" type="text/javascript" src="http://c.csdnimg.cn/public/common/toolbar/js/toolbar.js"></script>
       <style  type="text/css">
          .pub_fo {
          position:static;
          }
      </style>   

      

<script type="text/javascript" src="http://static.blog.csdn.net/scripts/cnick.js"></script>

<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=25 border=0 width=0 height=0>");</script>
<script type="text/javascript">
    document.write('<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer-1.0.2.js?' + Math.floor(new Date() / 120000).toString(36) + '="></' + 'script>');
</script>



      
      <div style="width:100%;height:0;overflow:visible;position:fixed;z-index:9999"> 
        <ins data-revive-zoneid="150" data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57"></ins> 
        <ins data-revive-zoneid="151" data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57"></ins> 
        <ins data-revive-zoneid="152" data-revive-id="8c38e720de1c90a6f6ff52f3f89c4d57"></ins>
      </div>
      <script src="http://csdnimg.cn/rabbit/exposure-click/main-1.0.2.js?v1.15.27"></script>
  
 </body>
</html>